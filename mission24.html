<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>MISSIN 24 // THE BOOK OF TRUTH</title>
<style>
  :root{
    --bg:#f7f1e6; --ink:#3b2f1f; --gold:#c59b2a; --muted:#6b5635;
  }
  html,body{margin:0;height:100%;background:var(--bg);color:var(--ink);font-family:"Garamond", Georgia, serif;}
  .wrap{max-width:900px;margin:0 auto;padding:28px 16px;text-align:center}
  h1{font-size:22px;letter-spacing:1px;color:#7a5d2b;margin:0 0 8px}
  .lead{color:var(--muted);margin-bottom:20px}
  .isbn{font-family:"Courier New",monospace;font-size:18px;background:#fff;border:1px solid #e8dfcf;border-radius:10px;display:inline-block;padding:12px 16px}
  .controls{margin-top:14px;display:flex;gap:10px;justify-content:center;flex-wrap:wrap}
  input[type="text"]{padding:10px 12px;border:1px solid #d9ccb7;border-radius:8px;background:#fff;color:#3b2f1f;font-size:16px;min-width:160px}
  button{padding:10px 14px;border:1px solid var(--gold);border-radius:8px;background:#fff7e2;color:#6b4a10;cursor:pointer}
  button:hover{background:#fff0c5}
  .hint{margin-top:10px;font-size:14px;color:#7a5d2b;display:none}
  .msg{margin-top:8px;min-height:20px;font-size:14px}
  .ok{color:#2f8f46} .err{color:#b33a3a}
  .divider{height:1px;background:linear-gradient(90deg,transparent,var(--gold),transparent);margin:22px 0}

  /* After screen */
  #after{display:none;position:fixed;inset:0;background:#000;color:#d4af37;
         display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:24px}
  #quote{max-width:780px;font-size:22px;line-height:1.6;white-space:pre-wrap}
  #from{margin-top:8px;font-size:16px;opacity:0.9}
  #note{margin-top:18px;max-width:760px;font-size:18px;color:#ffd76a;white-space:pre-wrap}
  @media (max-width:740px){
    #quote{font-size:20px}
    #note{font-size:17px}
  }
</style>
</head>
<body>
<div class="wrap" id="main">
  <h1>MISSION 24 // THE BOOK OF TRUTH</h1>
  <div class="lead"><em>You already know how to find it, Agent.</em></div>

  <div class="isbn">ISBN9780451528353</div>

  <div class="controls">
    <input id="year" type="text" placeholder="year"/>
    <button onclick="checkYear()">Confirm</button>
    <button onclick="toggleHint()">Hint</button>
  </div>
  <div id="hint" class="hint">Can you really find the book?</div>
  <div id="msg" class="msg"></div>

  <div class="divider"></div>
</div>

<!-- After-correct screen -->
<div id="after">
  <div id="quote"></div>
  <div id="from">— Mark Twain</div>
  <div id="note"></div>
</div>

<script>
function toggleHint(){ 
  const h=document.getElementById('hint'); 
  h.style.display = h.style.display==='block' ? 'none' : 'block'; 
}

function normNum(s){ return (s||'').replace(/[^\d]/g,''); }

function checkYear(){
  const v = normNum(document.getElementById('year').value);
  const msg = document.getElementById('msg');
  if(v==='1958'){
    msg.className='msg ok'; msg.textContent='✓';
    setTimeout(showAfter,300);
  } else {
    msg.className='msg err'; msg.textContent='Not quite.';
  }
}

function typewrite(el, text, speed=26){
  el.textContent='';
  let i=0;
  (function step(){
    if(i<=text.length){
      el.textContent = text.slice(0,i);
      i++;
      setTimeout(step, speed);
    }
  })();
}

function showAfter(){
  document.getElementById('main').style.display='none';
  const after = document.getElementById('after');
  after.style.display='flex';
  // type quote
  const q = "If you tell the truth you don't have to remember anything.";
  typewrite(document.getElementById('quote'), q, 24);
  // type note after a small delay
  setTimeout(()=>{
    const note = "Thank you for always being honest with me.\nI’ll be grateful for that — always.\n\nWith love,\n— M";
    typewrite(document.getElementById('note'), note, 22);
  }, q.length*24 + 400);
}

// Enter key shortcuts
document.getElementById('year').addEventListener('keypress', e=>{
  if(e.key==='Enter') checkYear();
});
</script>
</body>
</html>
