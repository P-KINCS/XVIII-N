<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mission 12 // Time Shift</title>
<style>
  body {
    background-color: black;
    color: #00ff99;
    font-family: "Courier New", monospace;
    text-align: center;
    padding: 40px;
    overflow: hidden;
  }

  h2 { color: #00ff99; margin-bottom: 10px; }
  p { color: #80ffcc; font-size: 16px; }

  input {
    padding: 10px;
    width: 260px;
    background-color: #0a0a0a;
    border: 1px solid #00ff99;
    color: #00ff99;
    text-align: center;
    font-family: "Courier New", monospace;
  }

  button {
    margin-left: 10px;
    padding: 10px 20px;
    background-color: #0a0a0a;
    border: 1px solid #00ff99;
    color: #00ff99;
    cursor: pointer;
  }

  button:hover { background-color: #003322; }

  #travel {
    display: none;
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    background: radial-gradient(circle, #ff0033, #000, #0033ff);
    animation: swirl 7s ease-in-out forwards;
    z-index: 10;
  }

  @keyframes swirl {
    0%   { transform: rotate(0deg) scale(1); opacity: 0.6; filter: blur(0px); }
    25%  { transform: rotate(90deg) scale(1.5); opacity: 0.8; filter: blur(2px); }
    50%  { transform: rotate(180deg) scale(2); opacity: 1; filter: blur(4px); }
    75%  { transform: rotate(270deg) scale(2.5); opacity: 0.8; filter: blur(2px); }
    100% { transform: rotate(360deg) scale(1); opacity: 0; filter: blur(0px); }
  }

  #final {
    display: none;
    position: absolute;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    width: 90%;
    max-width: 600px;
    text-align: left;
    font-family: "Courier New", monospace;
    color: #00ff99;
    background-color: #000;
    border: 2px solid #00ff99;
    padding: 25px;
  }

  #final p {
    font-size: 20px;
    letter-spacing: 1.5px;
    line-height: 1.6;
  }

  .typing::after {
    content: "_";
    animation: blink 0.8s step-start infinite;
  }

  @keyframes blink { 50% { opacity: 0; } }
</style>
</head>
<body>

<h2>INCOMING TRANSMISSION</h2>
<p>Maybe you haven’t noticed, Agent B, but you’ve been solving missions for a while now — without a single instruction from the Agency.<br>
Good work. Today, we travel through time.<br>
A fragment awaits. Decipher and proceed.</p>

<div id="code">
  <pre style="font-size:18px; color:#00ff99;">
(_,_,.gj)
(ajk,ajk,ajk)
(aaj,_,.j)
  </pre>

  <input type="text" id="answer" placeholder="Enter your answer">
  <button onclick="checkAnswer()">Confirm</button>
</div>

<div id="travel"></div>

<div id="final">
  <p id="text" class="typing"></p>
</div>

<script>
function normalize(t){
  return t.trim().toLowerCase();
}

function checkAnswer(){
  const val = normalize(document.getElementById("answer").value);
  if(val === "france" || val === "francuska"){
    // hide code and start time travel effect
    document.getElementById("code").style.display = "none";
    const travel = document.getElementById("travel");
    travel.style.display = "block";
    setTimeout(()=>{ 
      travel.style.display = "none";
      revealFinal();
    },7000);
  }
}

function typeWriter(text, elementId, speed){
  let i = 0;
  const el = document.getElementById(elementId);
  function typing(){
    if(i < text.length){
      el.innerHTML += text.charAt(i);
      i++;
      setTimeout(typing, speed);
    } else {
      el.classList.remove("typing");
    }
  }
  typing();
}

function revealFinal(){
  document.getElementById("final").style.display = "block";
  const msg = "“Tu m’as rendue plus douce là où j’étais fermée”";
  typeWriter(msg, "text", 90);
}
</script>

</body>
</html>
