<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Mission 29. // Tje Letters You Never Sent</title>
<style>
:root{
  --night:#001f3f;
  --gold:#d4af37;
  --ink:#e6d59c;
}
html,body{margin:0;background:var(--night);color:var(--gold);font-family:"Garamond",serif;}
.wrap{max-width:960px;margin:0 auto;padding:28px 16px;position:relative;z-index:2;text-align:center}
h1{margin:6px 0 10px;letter-spacing:1px;font-size:22px}
.intro{color:var(--ink);opacity:.9;line-height:1.6;margin:0 0 18px}
blockquote{margin:8px auto 14px;padding:0 14px;border-left:2px solid rgba(212,175,55,.35);color:var(--ink);text-align:left;max-width:640px}
.card{background:rgba(255,255,255,.05);border:1px solid rgba(212,175,55,.28);border-radius:12px;padding:16px;margin:18px auto;max-width:720px}
label{font-size:14px;color:var(--ink);opacity:.85}
input{border:1px solid rgba(212,175,55,.6);background:#0a223d;color:var(--ink);border-radius:8px;padding:9px 12px;font-size:16px;width:80%;max-width:360px;text-align:center;margin:4px 0 10px}
.btn{border:1px solid var(--gold);background:transparent;color:var(--gold);border-radius:8px;padding:8px 14px;cursor:pointer;font-size:15px}
.btn:hover{background:rgba(212,175,55,.10)}
.hidden{display:none}
.type{min-height:28px;color:var(--ink);white-space:pre-wrap;line-height:1.6;margin-top:8px}
.hr{height:1px;margin:26px auto;background:linear-gradient(90deg,transparent,rgba(212,175,55,.4),transparent);width:80%}
.final{white-space:pre-wrap;line-height:1.8;text-align:center;max-width:800px;margin:0 auto}
a.next{display:inline-block;color:var(--gold);text-decoration:none;border-bottom:1px dotted var(--gold);padding-bottom:2px;margin-top:12px}
a.next:hover{opacity:.85}

/* pulsirajući ljiljani */
.lilies{position:fixed;inset:0;pointer-events:none;z-index:1}
.lily{position:absolute;color:var(--gold);opacity:.45;filter:drop-shadow(0 0 6px rgba(212,175,55,.75));animation:pulse var(--spd) ease-in-out infinite}
@keyframes pulse{0%,100%{transform:scale(.9);opacity:.35}50%{transform:scale(1.1);opacity:.9}}

/* overlay za pitanja */
#step2{display:none;position:fixed;inset:0;background:rgba(0,0,0,.65);z-index:3;overflow:auto}
.step2-inner{max-width:800px;margin:40px auto;padding:24px 16px;text-align:center}
.q{color:var(--ink);margin:14px 0 8px}
</style>
</head>
<body>

<div class="lilies" id="lilies"></div>
<div class="wrap" id="main">
  <h1>Mission 29. // Tje Letters You Never Sent</h1>
  <p class="intro">
    Some words were never meant to be spoken — only found.<br>
    Let’s see if you can trace the hearts behind these lines.
  </p>

  <!-- 1 -->
  <div class="card" id="c1">
    <blockquote>
      How do I love thee? Let me count the ways.<br>
      I love thee to the depth and breadth and height<br>
      My soul can reach, when feeling out of sight<br>
      For the ends of Being and ideal Grace.
    </blockquote>
    <label>Writer</label><br>
    <input id="w1" type="text"><br>
    <label>Work</label><br>
    <input id="t1" type="text"><br>
    <button class="btn" onclick="check(1,['elizabeth','barrett','browning'],['sonnet','43','portuguese','how','love'])">Confirm</button>
    <div class="type" id="e1"></div>
  </div>

  <!-- 2 -->
  <div class="card hidden" id="c2">
    <blockquote>
      I love you as certain dark things are to be loved,<br>
      in secret, between the shadow and the soul.<br>
      I love you as the plant that never blooms<br>
      but carries in itself the light of hidden flowers.
    </blockquote>
    <label>Writer</label><br>
    <input id="w2" type="text"><br>
    <label>Work</label><br>
    <input id="t2" type="text"><br>
    <button class="btn" onclick="check(2,['pablo','neruda'],['sonnet','xvii','17','love','100','hundred'])">Confirm</button>
    <div class="type" id="e2"></div>
  </div>

  <!-- 3 -->
  <div class="card hidden" id="c3">
    <blockquote>
      She walks in beauty, like the night<br>
      Of cloudless climes and starry skies;<br>
      And all that’s best of dark and bright<br>
      Meet in her aspect and her eyes.
    </blockquote>
    <label>Writer</label><br>
    <input id="w3" type="text"><br>
    <label>Work</label><br>
    <input id="t3" type="text"><br>
    <button class="btn" onclick="check(3,['lord','byron','george','gordon'],['she','walks','in','beauty'])">Confirm</button>
    <div class="type" id="e3"></div>
  </div>

  <!-- 4 -->
  <div class="card hidden" id="c4">
    <blockquote>
      i carry your heart with me(i carry it in my heart)<br>
      i am never without it(anywhere i go you go,my dear)<br>
      and whatever is done by only me is your doing,my darling)
    </blockquote>
    <label>Writer</label><br>
    <input id="w4" type="text"><br>
    <label>Work</label><br>
    <input id="t4" type="text"><br>
    <button class="btn" onclick="check(4,['e','e','cummings'],['carry','your','heart'])">Confirm</button>
    <div class="type" id="e4"></div>
  </div>

  <!-- 5 -->
  <div class="card hidden" id="c5">
    <blockquote>
      Bright star, would I were steadfast as thou art—<br>
      Not in lone splendour hung aloft the night,<br>
      …<br>
      Still, still to hear her tender-taken breath,<br>
      And so live ever—or else swoon to death.
    </blockquote>
    <label>Writer</label><br>
    <input id="w5" type="text"><br>
    <label>Work</label><br>
    <input id="t5" type="text"><br>
    <button class="btn" onclick="check(5,['john','keats'],['bright','star','steadfast'])">Confirm</button>
    <div class="type" id="e5"></div>
  </div>

  <!-- 6 -->
  <div class="card hidden" id="c6">
    <blockquote>
      Lay your hand upon my heart, beloved—<br>
      feel how it beats;<br>
      every thought in me speaks your name,<br>
      every silence knows your voice.
    </blockquote>
    <label>Writer</label><br>
    <input id="w6" type="text"><br>
    <label>Work</label><br>
    <input id="t6" type="text"><br>
    <button class="btn" onclick="check(6,['alfred','lord','tennyson'],['maud'])">Confirm</button>
    <div class="type" id="e6"></div>
  </div>

  <!-- 7 -->
  <div class="card hidden" id="c7">
    <blockquote>
      When I found you, I found a mirror of the soul;<br>
      all that was hidden turned to light.<br>
      And there was no more “I” and “you”—<br>
      only one, breathing together.
    </blockquote>
    <label>Writer</label><br>
    <input id="w7" type="text"><br>
    <label>Work</label><br>
    <input id="t7" type="text"><br>
    <button class="btn" onclick="check(7,['rumi','jalal','jalaluddin'],['meaning','love'])">Confirm</button>
    <div class="type" id="e7"></div>
  </div>

  <!-- 8 -->
  <div class="card hidden" id="c8">
    <blockquote>
      I am not yours, yet I am lost in you,<br>
      like a drop in the sea.<br>
      Be the flame where I melt,<br>
      be the rest from which I cannot return.
    </blockquote>
    <label>Writer</label><br>
    <input id="w8" type="text"><br>
    <label>Work</label><br>
    <input id="t8" type="text"><br>
    <button class="btn" onclick="check(8,['sara','teasdale'],['i','am','not','yours'])">Confirm</button>
    <div class="type" id="e8"></div>
  </div>

  <div id="finalBlock" class="hidden">
    <div class="hr"></div>
    <p class="final" id="finalText"></p>
    <a href="#" class="next" id="nextLink" onclick="openStep2();return false;">Next →</a>
  </div>
</div>

<div id="step2">
  <div class="step2-inner">
    <div class="hr"></div>
    <p class="final" id="q1">Do you know who M is?</p>
    <input id="mWho" type="text"><br>
    <button class="btn" onclick="step2Next()">Confirm</button>
    <div id="q2Block" class="hidden">
      <div class="hr"></div>
      <p class="final">And what about the Agency?</p>
      <input id="agency" type="text"><br>
      <button class="btn" onclick="step2End()">Confirm</button>
    </div>
    <div id="endingMsg" class="final hidden" style="margin-top:20px;"></div>
  </div>
</div>

<script>
function normalize(s){return (s||'').toLowerCase().normalize('NFD').replace(/[\u0300-\u036f]/g,'').replace(/[^a-z0-9\s]/g,' ').replace(/\s+/g,' ').trim();}
function containsAllWords(input,words){const set=new Set(normalize(input).split(' '));return words.every(w=>set.has(normalize(w)));}
function typewrite(el,txt,spd=22,done){el.textContent='';let i=0;(function step(){if(i<=txt.length){el.textContent=txt.slice(0,i);i++;setTimeout(step,spd);}else if(done)done();})();}

(function lilies(){const host=document.getElementById('lilies');for(let i=0;i<40;i++){const s=document.createElement('span');s.className='lily';s.textContent='⚜';s.style.left=Math.random()*100+'vw';s.style.top=Math.random()*100+'vh';s.style.fontSize=(Math.random()*16+12)+'px';s.style.setProperty('--spd',(2+Math.random()*2)+'s');host.appendChild(s);}})();

function check(idx,aw,tw){const w=document.getElementById('w'+idx),t=document.getElementById('t'+idx),e=document.getElementById('e'+idx);
if(!containsAllWords(w.value,aw)||!containsAllWords(t.value,tw)){alert('Not quite, Agent. Read between the lines.');return;}
w.disabled=t.disabled=true;typewrite(e,'Verified.',20,()=>{const n=document.getElementById('c'+(idx+1));if(n){n.classList.remove('hidden');n.scrollIntoView({behavior:'smooth'});}else showFinal();});}
function showFinal(){document.getElementById('finalBlock').classList.remove('hidden');typewrite(document.getElementById('finalText'),'Some truths are written between the lines.',22);}
function openStep2(){document.getElementById('step2').style.display='block';}
function step2Next(){document.getElementById('q2Block').classList.remove('hidden');}
function step2End(){const e=document.getElementById('endingMsg');const t=`By now, you’ve probably realized…
I designed all of this not to test your mind — but to remember your heart.
Every code, every mission, every word — was a way to say
what I never could out loud.

Because love is the only mystery worth solving.

— M`;typewrite(e,t,22);e.classList.remove('hidden');}
</script>
</body>
</html>
